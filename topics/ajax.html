<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/ajax.css">
    <script type="text/javascript" src="../javascript/ajax.js"></script>
    <title>CSS and Javascript</title>
    <div class="jumbotron text-center">
            <h2>Ajax</h1>
    </div>
</head>
<body>
    <div class="container-fluid">
        <div class="row justify-content-center">
            <div class="col-sm-7">
                <div id="main">
                    <h4 class="text-center">Using AJAX to Request JSON Data</h4>
                        <p>AJAX utilizes a XMLHttpRequest object to request data from a server. The XMLHttpRequest object can be used to exchange
                            data with a server in the background without having to reload the whole page.<br>
                            Syntax for creating a new XMLHttpRequest object is <i><b>variable = new XMLHttpRequest();</b></i><br><br>
                       <p>Here is an example of how to read JSON data using XMLHttp:</p>
                       <p id="code">
                            var xmlhttp = new XMLHttpRequest();<br>
                            var url = "../fruit.txt";<br>
                            var results = document.getElementById('display');<br>
                            var i = 0;<br><br>
                            xmlhttp.onreadystatechange = function() {<br>
                                &emsp; if (this.readyState == 4 && this.status == 200) { <br>
                                    &emsp;&emsp;var myArr = JSON.parse(this.responseText); <br>
                                    &emsp;&emsp;do { <br>
                                        &emsp;&emsp;&emsp;results.innerHTML += data.fruits[i] + '&lt;br&gt;'; <br>
                                        &emsp;&emsp;&emsp;i++; <br>
                                        &emsp;&emsp;}<br>
                                        &emsp;&emsp;while (i &gt; 9)<br>
                                        &emsp;}<br>
                            }; <br><br>

                            xmlhttp.open("GET", url, true);<br>
                            xmlhttp.send();<br>
                        </p><br>
                        <p>Output:</p>
                        <div id="code">
                            <button type="button" onclick="getJson()">Get JSON</button><br>
                            <div id="display"></div>
                        </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>